<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data.Vector.Map</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Data-Vector-Map.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Data-Vector-Map.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">structures-0.1: &quot;Advanced&quot; Data Structures</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Portability</th><td>non-portable</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Maintainer</th><td>Edward Kmett &lt;ekmett@gmail.com&gt;</td></tr><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Data.Vector.Map</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module provides a functional variant on the Cache Oblivious Lookahead Array (COLA)
 by Bender et al. in <a href="http://supertech.csail.mit.edu/papers/sbtree.pdf">&quot;Cache-Oblivious Streaming B-Trees&quot;</a>. 
</p><p>When used ephemerally, this <code><a href="Data-Vector-Map.html#t:Map">Map</a></code> has asymptotic performance equal to that of a B-Tree
 tuned to the parameters of your caches. However, no such parameter tuning is required.
</p><p>Currently this <code><a href="Data-Vector-Map.html#t:Map">Map</a></code> is implemented in an insert-only fashion. Deletions are left to future work
 or to another derived structure in case they prove expensive.
</p><p>Moreover, unlike the COLA from the paper, this version merely provides amortized complexity bounds
 as this permits us to provide a fully functional API. However, even those asymptotics are
 only guaranteed if you do not modify the &quot;old&quot; versions of the <code><a href="Data-Vector-Map.html#t:Map">Map</a></code>. If you do, then while correctness
 is preserved, the asymptotic analysis is inaccurate.
</p><p>However, reading from &quot;old&quot; versions of the <code><a href="Data-Vector-Map.html#t:Map">Map</a></code> will not affect the asymptotic analysis.
</p><p>Compared to <code>Data.Map</code>, this data structure currently consumes both more memory and more time,
 but it enables us to utilize contiguous storage.
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span>  <a href="#t:Map">Map</a> k v<ul class="subs"><li>= <a href="#v:Map">Map</a> !<a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a> (<a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Data-Vector-Bloom.html#t:Bloom">Bloom</a>) !(<a href="Data-Vector-Array.html#t:Array">Array</a> k) !(<a href="Data-Vector-Array.html#t:Array">Array</a> v) !(<a href="Data-Vector-Map.html#t:Map">Map</a> k v)  </li><li>| <a href="#v:Nil">Nil</a>  </li></ul></li><li class="src short"><a href="#v:empty">empty</a> ::  <a href="Data-Vector-Map.html#t:Map">Map</a> k v</li><li class="src short"><a href="#v:null">null</a> ::  <a href="Data-Vector-Map.html#t:Map">Map</a> k v -&gt; <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:singleton">singleton</a> :: (<a href="Data-Vector-Array.html#t:Arrayed">Arrayed</a> k, <a href="Data-Vector-Array.html#t:Arrayed">Arrayed</a> v) =&gt; k -&gt; v -&gt; <a href="Data-Vector-Map.html#t:Map">Map</a> k v</li><li class="src short"><a href="#v:lookup">lookup</a> :: (Hashable k, <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> k, <a href="Data-Vector-Array.html#t:Arrayed">Arrayed</a> k, <a href="Data-Vector-Array.html#t:Arrayed">Arrayed</a> v) =&gt; k -&gt; <a href="Data-Vector-Map.html#t:Map">Map</a> k v -&gt; <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> v</li><li class="src short"><a href="#v:insert">insert</a> :: (Hashable k, <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> k, <a href="Data-Vector-Array.html#t:Arrayed">Arrayed</a> k, <a href="Data-Vector-Array.html#t:Arrayed">Arrayed</a> v) =&gt; k -&gt; v -&gt; <a href="Data-Vector-Map.html#t:Map">Map</a> k v -&gt; <a href="Data-Vector-Map.html#t:Map">Map</a> k v</li><li class="src short"><a href="#v:fromList">fromList</a> :: (Hashable k, <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> k, <a href="Data-Vector-Array.html#t:Arrayed">Arrayed</a> k, <a href="Data-Vector-Array.html#t:Arrayed">Arrayed</a> v) =&gt; [(k, v)] -&gt; <a href="Data-Vector-Map.html#t:Map">Map</a> k v</li><li class="src short"><a href="#v:shape">shape</a> ::  <a href="Data-Vector-Map.html#t:Map">Map</a> k v -&gt; [<a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a>]</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Map" class="def">Map</a> k v <a href="src/Data-Vector-Map.html#Map" class="link">Source</a></p><div class="doc"><p>This Map is implemented as an insert-only Cache Oblivious Lookahead Array (COLA) with amortized complexity bounds
 that are equal to those of a B-Tree when it is used ephemerally, using Bloom filters to replace the fractional
 cascade.
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Map" class="def">Map</a> !<a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a> (<a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Data-Vector-Bloom.html#t:Bloom">Bloom</a>) !(<a href="Data-Vector-Array.html#t:Array">Array</a> k) !(<a href="Data-Vector-Array.html#t:Array">Array</a> v) !(<a href="Data-Vector-Map.html#t:Map">Map</a> k v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Nil" class="def">Nil</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Map" class="caption collapser" onclick="toggleSection('i:Map')">Instances</p><div id="section.i:Map" class="show"><table><tr><td class="src">(<a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Text-Read.html#t:Read">Read</a> (<a href="Data-Vector-Array.html#t:Arr">Arr</a> v v), <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Text-Read.html#t:Read">Read</a> (<a href="Data-Vector-Array.html#t:Arr">Arr</a> k k)) =&gt; <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Text-Read.html#t:Read">Read</a> (<a href="Data-Vector-Map.html#t:Map">Map</a> k v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Text-Show.html#t:Show">Show</a> (<a href="Data-Vector-Array.html#t:Arr">Arr</a> v v), <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Text-Show.html#t:Show">Show</a> (<a href="Data-Vector-Array.html#t:Arr">Arr</a> k k)) =&gt; <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Text-Show.html#t:Show">Show</a> (<a href="Data-Vector-Map.html#t:Map">Map</a> k v)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:empty" class="def">empty</a> ::  <a href="Data-Vector-Map.html#t:Map">Map</a> k v<a href="src/Data-Vector-Map.html#empty" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:null" class="def">null</a> ::  <a href="Data-Vector-Map.html#t:Map">Map</a> k v -&gt; <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Bool.html#t:Bool">Bool</a><a href="src/Data-Vector-Map.html#null" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:singleton" class="def">singleton</a> :: (<a href="Data-Vector-Array.html#t:Arrayed">Arrayed</a> k, <a href="Data-Vector-Array.html#t:Arrayed">Arrayed</a> v) =&gt; k -&gt; v -&gt; <a href="Data-Vector-Map.html#t:Map">Map</a> k v<a href="src/Data-Vector-Map.html#singleton" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:lookup" class="def">lookup</a> :: (Hashable k, <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> k, <a href="Data-Vector-Array.html#t:Arrayed">Arrayed</a> k, <a href="Data-Vector-Array.html#t:Arrayed">Arrayed</a> v) =&gt; k -&gt; <a href="Data-Vector-Map.html#t:Map">Map</a> k v -&gt; <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> v<a href="src/Data-Vector-Map.html#lookup" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:insert" class="def">insert</a> :: (Hashable k, <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> k, <a href="Data-Vector-Array.html#t:Arrayed">Arrayed</a> k, <a href="Data-Vector-Array.html#t:Arrayed">Arrayed</a> v) =&gt; k -&gt; v -&gt; <a href="Data-Vector-Map.html#t:Map">Map</a> k v -&gt; <a href="Data-Vector-Map.html#t:Map">Map</a> k v<a href="src/Data-Vector-Map.html#insert" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:fromList" class="def">fromList</a> :: (Hashable k, <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> k, <a href="Data-Vector-Array.html#t:Arrayed">Arrayed</a> k, <a href="Data-Vector-Array.html#t:Arrayed">Arrayed</a> v) =&gt; [(k, v)] -&gt; <a href="Data-Vector-Map.html#t:Map">Map</a> k v<a href="src/Data-Vector-Map.html#fromList" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:shape" class="def">shape</a> ::  <a href="Data-Vector-Map.html#t:Map">Map</a> k v -&gt; [<a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a>]<a href="src/Data-Vector-Map.html#shape" class="link">Source</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.13.2</p></div></body></html>